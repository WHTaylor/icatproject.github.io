{"componentChunkName":"component---src-templates-default-jsx","path":"/user-documentation/icat-schema/","result":{"data":{"markdownRemark":{"html":"<h1>Introduction</h1>\n<p>The schema, which is based on the <a href=\"/user-documentation/csmd/\">CSMD</a>, is described\nbelow by two diagrams, the first shows the main entities and their\nrelationships. In this note the term entity is often used to denote a\nset of entities. The second diagram shows those entities which have\ntypes or parameters. In the text below all entities are referred to with\nthe same capitalisation they have in the schema.</p>\n<h1>Main Entities</h1>\n<p>The first diagram has been simplified by omitting all those entities\nwhich have been added to avoid many-to-many relationships. For example\nan Instrument has many Users and a  User may be associated with many\nInstruments. These are represented by an intermediate entity\n\"InstrumentUser\" in this case. Each InstrumentUser relates to one\ninstrument and to one user. These  intermediate entities are not shown\non the diagram.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"margin-left: 0 !important; margin-right: 0 !important;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 652px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6d8d75fc08c45aa9540d074beee08a71/dba9a/ICAT-5-Schema.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 101.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE60lEQVR42p1Ue0xTVxw+goViRc0Yw2UISspMiCtL6jCLMd3YukQjookVs3Wic8NXBpksGS66G2MoQYITwkMzH0UDuAutfdN3C33dPiiFFtr1QWkpYCkgBnRxybzLKcWwLPGPneTem3Pu9/vO7zu/73cAAGAdACCNQqGQ2rsVn3QIrQfu8U30iovI2wCAFPgPZGenAQAIPzey32vrUe5vZPOO1N/q2X2y8nI+V+cdEFtDTsXIrK76WvMOwGAwkgEA6x/IHCSxLYxJ7dMxnXdphmf27wYAABRFk1EUhxjwUDLIlA3N4DrvEm4IvODv2VOcJTRP6KT2aZfCGRu41tq9DeIgmICirhRUM1Yjdzxp5Rp9x8C/B8QQqxsekOraOvNu3O3Nu1TblFl5uT5faJnQSQYnPTLHjAnOX2eIGsNpEvsk3zTxMqR1L1RCFhzHk+C/uGwAkhLkRDKZnArnNzsEOUJzyCBzPPEoXfPYhRrW+6u7p8DgbuXwvi6V61CvfDQ/HkqlEhJkAEEQSAzu8rEK6dDMnNazaGrvVe8VmIJS+fCsQ+Wa05yvYZFBU5MkNZdGI/L07nSecXxY51vCVa752hW+gxtWNRcUFMACEdoe9u0TYsFrypHYWaSRXSTAggZD4LlfPTpviUtOSIFgoDA/y6isvZlFZzJJieqvW3OOMEOYcSqO4/H17y/VFgixCavSGZtQj83b45Il9sigYfzPMKfffQYAkC62hg1az2JUOhQ5BYMk3leQABKB2z0qhsQ+FVQMR8Nco683KydnB0/vaxVbQl199sjtsjNV2wHX6G/QeJ7eaulWlMJsewfGLsqdMdZjLLAvfnYrhYkr+bG2eW+XbOgqR+e5IraFv4TKEARJWqOCCF+wYilkMjlTaosclNjCRzqVjpLr99GtPL3vkBALnRBiwW/YYsv+qp/qtvOx8VKte6FEH1z+8IfGxjSu3suUOWZOGwLPj1Yhv24BTGY1CRaltOzkNq7uD7fWs/hK71teeKQZ/VxgCZkFpvGXYmv4b67eK2rp6jsmtk7i+sALXD06Lzzy1bfZPFMgonTN/aX1PJuua+vNA4mCwFQ3FdBoGyl0OiwIKTc3l0inM0mM8+c3IigKMRt27tyZ/vWFmoyS4uNZFMrH70BL0el0Ej0RE7dYwqQECOQZ/SbFyOyszr/sY4uwT/mmcYXEFokonbGoyBqSwN0hacJCgNWCkkUrfRxVu5+6Of1j766eYWo5ghA5A95TYlu4WuNZOIfcuLO7U+74pUc71vzYFLj6u2aUCa1TWFi4pby8nLjS29gmntF/VmyNXJQ6o+dQjWsjeH2jJDy3ehH0aMa+k9qnglrPs6DEOnkUruVRqZsTeAJ4w3hNCNtPg+PQwCm/8Y1kVOlCODrv9U6p/URdG0qF50ilUgmrkmEMiuPJOI4nw+9/CBM9G/cVqrBt7rNP2+TD0TmlM/aSbwxoIIbBYLw5w0RRUr9gnH5LgAXZQvOEVmqfFrFaH31UWla+vRpp2AWfD4qKsutvPzossoQ0/d6lAbV7nkU7wNjKNwW4IktIJbKEuBK7NxN2Pdwx9bPDhzP4pkC7YniWqxiJdjfc4eyCG9JotPXUiop4Rvc4hmKZY4Zn8C8LVK7ZK8Ulx7P6BqfYckeU2zc41cE1RzJWry/oqUwAwJY1997/Gv8AXk17An44t10AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Schema overview\"\n        title=\"\"\n        src=\"/static/6d8d75fc08c45aa9540d074beee08a71/dba9a/ICAT-5-Schema.png\"\n        srcset=\"/static/6d8d75fc08c45aa9540d074beee08a71/4edbd/ICAT-5-Schema.png 175w,\n/static/6d8d75fc08c45aa9540d074beee08a71/13ae7/ICAT-5-Schema.png 350w,\n/static/6d8d75fc08c45aa9540d074beee08a71/dba9a/ICAT-5-Schema.png 652w\"\n        sizes=\"(max-width: 652px) 100vw, 652px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Schema overview</figcaption>\n  </figure></p>\n<p>A Facility can be seen as a set of Instruments. Each Facility supports a\nnumber of Investigations where there may be a one-to one correspondence\nbetween an Investigation and a proposal which is not part of the schema.\nA Publication corresponds to exactly one Investigation (which is\nprobably bad modelling -- the Publication should be related to a Study\nrepresenting the output of that study). A facility may also make use of\nFacilityCycles to define a period of running.</p>\n<p>The Investigation has a number of Datasets that belong to it where each\nDataset is made up of a number of Datafiles. The Datafile is a physical\nfile with a length and checksum whereas the Dataset is a collection of\nDatafiles with something in common. In addition there is the notion of\nDataCollection which groups together individual Datafiles or Datasets of\nDatafiles which may span Investigations or even Facilities. A\nDataCollection is used to represent the input to a job and another\nDataCollection is used for the output. The Job is also related to the\nApplication which converts the input DataCollection to an output.</p>\n<p>Samples are associated both with an Investigation to clarify the full\nset of Samples to be used (partly for safety reasons) and with the\nDataset which is related to at most one Sample.</p>\n<p>Users are collected together into groups (known here as Groupings to\navoid keyword problems) and authorization Rules are associated with\nthese groupings.</p>\n<p>Log is used for call logging and PublicStep is to speed up authorization\ndecisions.</p>\n<h1>Types and Parameters</h1>\n<p>The second diagram shows those entities (column in the middle of the\ndiagram) with their related parameters in the column to the left of\ncentre and types to the right of centre (where DatafileFormat is here\ntreated as a type.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"margin-left: 0 !important; margin-right: 0 !important;\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f5149cf607d552ec6870d040e4b77e69/d9199/ICAT-4.3-Schema-Parameters.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAADkklEQVR42tVT7UtbVxg/zk5nHPUl6abDonSWFrtGbNoG+mFlTsFRBrOQTzoGaw3rhsWVbVrWcXDWxeGVUrskuzGJSfRGufEmudckN+8vN0tMwjUxvt1UqFtZWLuPnd/25rjpFdz+g/3g4fC8/H7P4TnPAeA5jgAAqgAAIgDAi4JVAwDKAACVQv4lobYCAFAunECoFQlWJsSAqLn5comgtjguGQgaw1yMiU5z6hGoOuFObH3vSXNmH7tjQa0uuR6n71qo8BwVX7MRMfYKz2ttbT0qNCqhSiZT8p3APf3imxgVmyNCrCm68Xj6sy/HXqdieQ0RZE2h7KNZg80nty7HRn3pgjm+UbRiVOQ9ntfW1vbyvwQVCkXJ+WT4zlm9zTvgZPIDJJPrvwWhBPen3vekCte8Ke5D7ayjRTvn7MV9CaU/zX00+Z1BzvMaGxtFhwVFEEJ+TmB0ClXM2gN5isnnIvnHoZu3x6W2QGbFl3m4Gd/6ZV2zQL1jsNEL7uRW/oftJ5xhKXCD50m7u6tLgpHcj7VjiPq4h8kek8s7Xz0hk9XAqZl6BMUkKg1Wx988vV0UYxFWgiCoBEK8Ynh4ogZCRPLAbBf39PQdbWhoOAYndE0ISkmAM5bbcSU2fvOmC/vTs0tfTKqN75qcoT89K9wes1ncHYLfnidj+WIou7uXLDx9ZrT5r+pxD+OMZvcS3K9/OyL56wODn18mY2t/+DM7HEAx6jSc0F5E9NaOrq4rJxWKDxqsJCM1EN52nY0+o1QqReMa/RvaxeV2ExmU3lCp6kz24EVnlH3LlVzv0hGepu7e3lfmqPDbC97EJWAhw6oZnNbRac5sIaPdH498JbeQYcMcFUPdyc3JMbXxOL3C3aNTHOpf3UFtodwZfmYQwheE+ZcLO/sc88vRGas7jvsyD70uZrNnZHTyAuaKLi4FM/Ph1Ueam3e+PknG1nRkNDtPr2zNk8yq9D+C/P5W7u/vlx3EDhKlLe+7PthkcvhkRJA9h+KBs/39/dXTFqLdSATPWT3Rjk/hVL2Ril7A3YlON1vovD2OnAaHUVtb2ywSiTpea2k5xftabLnPZA/+Tqf4R/l5dwjePU/F14uhtZ/2EoWnz0yEr9e45Ivz+QT35C9HhB3ieZFI5Ag49I8rDv7m4P37lbcQRDLyzQMx5lqvw3G8fAZP1psDabHZnhZDHK+YQPEae2BbjFGsZArHq8D/Cv8A82y2uefJHJsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Parameters and Types\"\n        title=\"\"\n        src=\"/static/f5149cf607d552ec6870d040e4b77e69/8c557/ICAT-4.3-Schema-Parameters.png\"\n        srcset=\"/static/f5149cf607d552ec6870d040e4b77e69/4edbd/ICAT-4.3-Schema-Parameters.png 175w,\n/static/f5149cf607d552ec6870d040e4b77e69/13ae7/ICAT-4.3-Schema-Parameters.png 350w,\n/static/f5149cf607d552ec6870d040e4b77e69/8c557/ICAT-4.3-Schema-Parameters.png 700w,\n/static/f5149cf607d552ec6870d040e4b77e69/d9199/ICAT-4.3-Schema-Parameters.png 960w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Parameters and Types</figcaption>\n  </figure></p>\n<p>In addition all parameters have a ParameterType and all types are\nrelated to a Facility. It is permissible for an entity (such as\nInvestigation) to have a parameter (InvestigationParameter) with a\nParameterType belonging to a different Facilty than the Facility to\nwhich the Investigation belongs. To achieve some uniformity of naming\nbetween facilities a special Facility could be defined to act as a name\nspace with agreed names.</p>\n<h1>The full schema</h1>\n<p>The complete schema for each version of ICAT may be seen. For example\n<a href=\"https://repo.icatproject.org/site/icat/server/4.10.0/schema.html\">for 4.10.0</a>.\nThis description of the schema is generated directly from the code. It\nomits five attributes which are carried by all entitites:</p>\n<ul>\n<li><code>id</code> -- a unique identifier for that entity within the set</li>\n<li><code>createId</code> -- the username of the creator of the entity</li>\n<li><code>createTime</code> -- when the entity was created</li>\n<li><code>modId</code> -- the username of the last modifier of the entity</li>\n<li><code>modTime</code> -- when the entity was last modified</li>\n</ul>\n<p>All of these attributes are set by the system but can all be read and\nused in queries.</p>","frontmatter":{"title":"ICAT Schema","date":null}}},"pageContext":{"slug":"/user-documentation/icat-schema/"}},"staticQueryHashes":["2186722355","3212510956","3248290905","3649515864","4121107168"],"slicesMap":{}}